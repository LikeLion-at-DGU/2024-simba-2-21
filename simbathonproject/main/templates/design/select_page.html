<!DOCTYPE html>
<html lang="ko">
<head>
    {% load static %}
    <link rel='stylesheet' type='text/css' href="{% static "css/design/select_page.css"%}">
    <meta charset="UTF-8">
    <link rel="icon" type="image/png" href="{% static 'assets/charcol.png' %}">
    <title>뭐입을과</title>
</head>

<body>
    <div id="body_container">
        <div id='top_bar'>
            <a href='/main/'><img src = "{% static 'assets/icons/varsity_logo.png' %}" class='nothing'/></a>
            <p id='design_text'>과잠 색상 선택</p>
            <div class='nothing'></div>
        </div>
        <div id='template_container'>
            <div class='template_item'>
                <img src="{% static 'assets/gray.png' %}" data-keyword="회색"/>
            </div>
            <div class='template_item'>
                <img src="{% static 'assets/purple.png' %}" data-keyword="보라색"/>
            </div>
            <div class='template_item'>
                <img src="{% static 'assets/orange.png' %}" data-keyword="주황색"/>
            </div>
            <div class='template_item'>
                <img src="{% static 'assets/red.png' %}" data-keyword="빨간색"/>
            </div>
            <div class='template_item'>
                <img src="{% static 'assets/blue.png' %}" data-keyword="파란색"/>
            </div>
            <div class='template_item'>
                <img src="{% static 'assets/charcol.png' %}" data-keyword="차콜색"/>
            </div>
            
        </div>
        <div id='select_btn_container'>
            <button id='select_btn'>선택 완료</button>
        </div>
    </div>

    <script>   
        document.addEventListener('DOMContentLoaded', () => {
            let selectedImage = null;
            const images = document.querySelectorAll('.template_item img');
            const image_container=document.querySelectorAll('.template_item');

            images.forEach((img) => {
                img.addEventListener('click', () => {
                    if (selectedImage) {
                        selectedImage.style.border = '2px solid black';
                        selectedImage.style.borderRadius = '10px';
                    }

                    img.style.border = '4px solid rgba(0, 133, 255, 1)';
                    img.style.borderRadius = '10px';
                    selectedImage = img;

                    const keyword = img.getAttribute('data-keyword'); // data-keyword 속성 값 가져오기
                    localStorage.setItem('selectedImage', img.src); // img 요소의 src 저장
                    localStorage.setItem('selectedKeyword', keyword); // 키워드 값 저장
                    console.log('키워드 저장됨:', keyword); // 키워드 저장 확인
                });
            });

            const selectBtn = document.getElementById('select_btn');
            selectBtn.addEventListener('click', () => {
                if (selectedImage) {
                    window.location.href = '/design/select/designvarsity';
                } else {
                    alert('이미지를 선택해주세요.');
                }
            });
        });

    </script>
    
</body>
</html>