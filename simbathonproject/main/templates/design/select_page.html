<!DOCTYPE html>
<html lang="ko">
<head>
    {% load static %}
    <link rel='stylesheet' type='text/css' href="{% static "css/design/select_page.css"%}">
    <meta charset="UTF-8">
    <link rel="icon" type="image/png" href="{% static 'assets/charcol.png' %}">
    <title>뭐입을과</title>
</head>

<body>
    <div id="body_container">
        <div class="head_bar">
            <div class="seq">색상 선택하기</div>
            <div class="seq">디자인 만들기</div>
            <div class="seq">업로드 하기</div>
        </div>
        <div id='top_bar'>
            <div id="back_btn">         <!-- 뒤로가기 -->
                <a href='/main/'><img src="{% static 'assets/icons/icon_back.png' %}"></a>
            </div>
            <div class="title_text">    <!-- 타이틀 택스트 -->
                <p id='design_text'>과잠 색상 선택</p>
            </div>
            <div class="nothing">  </div>
        </div>

        <div class="body_box">
            <div id='template_container'>
                <div class='template_item'>
                    <img src="{% static 'assets/gray.png' %}" data-keyword="회색"/>
                </div>
                <div class='template_item'>
                    <img src="{% static 'assets/purple.png' %}" data-keyword="보라색"/>
                </div>
                <div class='template_item'>
                    <img src="{% static 'assets/orange.png' %}" data-keyword="주황색"/>
                </div>
                <div class='template_item'>
                    <img src="{% static 'assets/red.png' %}" data-keyword="빨간색"/>
                </div>
                <div class='template_item'>
                    <img src="{% static 'assets/blue.png' %}" data-keyword="파란색"/>
                </div>
                <div class='template_item'>
                    <img src="{% static 'assets/charcol.png' %}" data-keyword="차콜색"/>
                </div>
            </div>
            <div id='select_btn_container'>
                <button id='select_btn'>선택 완료</button>
            </div>
        </div>
        
    </div>

    <script>   
        document.addEventListener('DOMContentLoaded', () => {
            let selectedImage = null;
            const images = document.querySelectorAll('.template_item img');
            const image_container=document.querySelectorAll('.template_item');

            images.forEach((img) => {
                img.addEventListener('click', () => {
                    if (selectedImage) {
                        //selectedImage.style.border = '2px solid black';
                        selectedImage.style.border = 'none';
                        selectedImage.style.borderRadius = '10px';
                    }

                    img.style.border = '4px solid rgba(0, 133, 255, 1)';
                    img.style.borderRadius = '10px';
                    selectedImage = img;

                    const keyword = img.getAttribute('data-keyword'); // data-keyword 속성 값 가져오기
                    localStorage.setItem('selectedImage', img.src); // img 요소의 src 저장
                    localStorage.setItem('selectedKeyword', keyword); // 키워드 값 저장
                });
            });

            const selectBtn = document.getElementById('select_btn');
            selectBtn.addEventListener('click', () => {
                if (selectedImage) {
                    window.location.href = '/design/select/designvarsity';
                } else {
                    alert('이미지를 선택해주세요.');
                }
            });
        });

    </script>
    
</body>
</html>